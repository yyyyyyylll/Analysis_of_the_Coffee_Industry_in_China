# 2025 中国咖啡市场分析 - 数据新闻

## 一、选题概述

过去五年，中国咖啡市场呈现出高速增长和迅速普及的发展状态。各类连锁品牌的门店密度显著提升，外卖咖啡的订单量也屡创新高。咖啡正在从具有外来文化属性的提神工具，转变为象征现代生活节奏的日常化饮品。随着咖啡的整体消费规模不断扩大，一个无法回避的问题随之而来：在经济总体承压、消费更加谨慎的背景下，咖啡为什么还能在中国这样迅速地普及和扩张？

在整体行业爆火的同时，中国的咖啡市场呈现出两大不可忽视的趋势。一方面，咖啡的消费降级凸显，低价位产品大量涌现，各大连锁品牌的价格竞争日趋激烈，大众以更低的价格获得更高频的饮用体验。另一方面，咖啡的情绪经济特征同步加强。品牌频繁推出联名杯套、主题包装、节日限定，在配方中加入更多甜味与配料，使咖啡也成为一种情绪表达和自我记录的载体。这两种趋势共同作用，使当下的咖啡市场既现实又感性，既追求价格也要求情绪。因此，本数据新闻将沿消费降级与情绪经济的双重路线，通过数据分析，揭示其如何成为推动中国咖啡市场高速发展的核心动力。

## 二、数据来源

### 1. 国家与行研机构报告数据
引入国家统计局、艾媒及餐宝典等机构（2020-2025）发布的数据，涵盖社会消费品零售总额、咖啡与新式茶饮市场规模以及消费者行为特征，刻画行业发展背景与整体消费变化。

### 2. 官方财报数据
采集瑞幸咖啡（2019-2024）与星巴克（2019-2025）在中国市场的官方财报数据，涵盖门店数量、净收入、运营费用、费用结构及利润等指标。

### 3. 社交媒体文本数据
- **（1）消费降级数据**：通过使用自制的爬虫，以“瑞幸/星巴克”和“消费/买/价格”等关键词采集社交媒体帖子，以正文作为数据分析文本。
- **（2）情绪经济数据**：手动爬取瑞幸及星巴克微信公众号（2022-2025）联名数据，统计联名及相关SKU数量。以“瑞幸/星巴克”和“情绪/打卡/活动”等关键词采集社交媒体帖子，以正文作为数据分析文本。

**采集困难：**
1. 部分未上市咖啡品牌缺乏公开且完整的财务数据
2. 行业早期关注度有限，长期连续数据可得性不足
3. 平台反爬机制严格，社交媒体数据采集成本较高
4. 不同指标可用数据年份不统一，部分早期数据缺失

## 三、技术实现（分为爬虫、可视化、网页制作）

### （一）小红书爬虫
通过Python脚本协作，基于 DrissionPage（dp 模块）爬取小红书平台中“瑞幸/星巴克”和“消费/买/价格”的消费降级相关帖子（516条+485条）；“瑞幸/星巴克”和“情绪/打卡/活动”等关键词的情绪经济相关帖子（494条+474条），以及星巴克官方账号（1219条）和瑞幸官方账号（2898条）的帖子。

#### 1. 列表页爬取.py——关键词驱动的帖子链接采集
该程序读取 `keywords.csv` 中的关键词，依次搜索小红书平台并滚动加载页面内容，提取搜索结果中的帖子详情链接。

#### 2. 详情页爬取.py —— 帖子内容采集
依次打开第一步收集的帖子链接，通过CSS和Xpath定位并抓取帖子的标题、正文、标签、图片、发布时间、点赞评论收藏数、评论内容、发帖者主页链接等多维信息。

**账号限制策略说明：**
- 链接中包含账号参数，在一个周期内每个账号访问详情页次数有限，600~800次；
- 尝试过使用代理池绕过限制，但无法实现，需手动更换账号并重新爬取新一轮帖子链接。
- 为保障数据规模，项目总计使用十余个账号进行批次爬取至封禁。

### （二）图表可视化

#### 1. 数据准备
先将原始数据整理为Python列表或字典，用于直接传入图表。常见形式包括 `x_data=[]`、`y_data=[]` 或 `{name, value}` 结构。

#### 2. 图表初始化
通过 `Bar()`、`Line()` 或 `Pie()` 创建图表对象，使用 `opts.InitOpts()` 设置画布尺寸、背景色等基础属性，完成图表基础容器的建立。

#### 3. 数据绑定
使用 `add_xaxis()` 绑定类别轴，`add_yaxis()` 绑定数值序列，多年份或多组数据则通过多次 `add_yaxis()` 实现对比。饼图通过 `add()` 分别添加不同年份或层级的数据。

#### 4. 样式与交互
通过 `ItemStyleOpts`、`LineStyleOpts`、`AreaStyleOpts` 控制颜色、线型与填充。同时，使用 `TooltipOpts` 并配合 `JsCode` 自定义悬浮提示内容，用于增强可读性与交互表达。

#### 5. 全局配置
统一在 `set_global_opts()` 中设置标题、图例、坐标轴与网格线等，如 `TitleOpts`、`LegendOpts`、`AxisOpts`，用于明确图表语义与阅读路径。

#### 6. 布局与输出
通过 `Page()` 将图表纳入页面容器，支持单图或多图输出。最后使用 `render()` 生成HTML文件。
完成数据可视化结果的最终输出。

### （三）网页制作

#### 1. 设计
网页的整体视觉与排版先通过 Canva 可画实现设计，包括页面插图、标题与正文的字号体系等关键视觉素材的制作，并统一导出为适配网页的图片格式与尺寸，便于后续在前端页面中直接引用与复用。

#### 2. 网站搭建

**（1）前端框架**
采用 **React 19** 作为框架，利用 Hooks 机制（如 `useState`、`useEffect`、`useRef`）实现复杂交互逻辑与DOM操作的封装，并通过 Functional Components 确保 UI 模块的高度可复用性。

**（2）构建与开发工具**
选用 **Vite** 作为构建引擎，利用其热更新（HMR）特性，提升开发阶段的调试效率。

**（3）数据可视化**
以 **ECharts 5** 为底层图表库，支持复杂的交互和定制；配合 `echarts-for-react` 实现调用，同时集成 `echarts-wordcloud` 插件，将社交媒体文本转化为词云图。

**（4）样式与动画**
通过 CSS3 Flexbox 实现响应式布局，并结合 Inline Styles 实现元素快速调整和高帧率动画实现。为了确保切换效果不卡顿，引入了 `requestAnimationFrame` (rAF) 技术。相比传统方案，rAF 能在浏览器重绘频率下同步执行动效，确保动画保持高帧率与流畅切换效果。

## 四、项目文件架构

```
/coffee-g3last/
├── 📂 src/                            # [前端] React 交互式网页应用
│   ├── 📂 components/                 # 组件库 (按功能分类展示)
│   │   ├── [核心页面]
│   │   ├── 📄 Hero.jsx                # [P1] 首页封面
│   │   ├── 📄 PageTwo.jsx             # [P2] 消费降级 
│   │   ├── 📄 PageThree.jsx           # [P3] 情绪经济 
│   │   ├── 📄 PageFour.jsx            # [P4] 结语
│   │   │
│   │   ├── [可视化图表组件]
│   │   ├── 📊 ChartSection.jsx        # [容器] 通用图表容器
│   │   ├── 📊 StoreCountChartSection.jsx # [图表] 门店数量增长趋势
│   │   ├── 📊 ProvinceBarChartSection.jsx # [图表] 省份分布
│   │   ├── 📊 StickyWordCloudSection.jsx  # [图表] 词云
│   │   ├── ...
│   │   │
│   │   ├── [交互与配置]
│   │   ├── 🧩 PriceWarTimeline.jsx    # [交互] 价格战时间轴
│   │   ├── 🧩 CollabCardStack.jsx     # [交互] 联名卡片堆叠
│   │   ├── 🧩 Slider.jsx              # [交互] 图片滑动对比
│   │   └── ⚙️ chartOptions.js         # [配置] ECharts 全局配置项
│   │
│   ├── 📂 assets/                     # 静态资源 (图片/图标/背景)
│   ├── 📂 data/                       # 静态数据文件
│   ├── 📄 App.jsx                     # 全局布局与路由
│   └── 📄 main.jsx                    # React 渲染入口
│
├── 📂 小红书爬虫/                      # [数据获取] Python 爬虫脚本
│   ├── 📄 列表页爬取.py                # 搜索与链接采集
│   ├── 📄 详情页爬取.py                # 内容深度抓取
│   └── ...
│
├── 📂 可视化图表/                      # [数据分析] 离线分析与原型验证
│   ├── 📂 py文件/                     # Pyecharts 绘图程序
│   └── 📂 html文件/                   # 生成的独立图表文件
│
└── 📂 数据处理/                  # [资料] 原始数据与报告+数据处理程序
    ├── 📂 第三方报告（部分）/            # 行研报告
    ├── 📂 公司财报（部分）/              # 瑞幸/星巴克官方财报
    ├── 📂 爬取的原始数据+数据处理文件/     # 爬取的小红书原始数据与数据分析脚本
    └── 📂 整理的数据/                    # 根据公开资料或非结构化数据进行的数据整理
```

## 五、环境配置与启动

### 1. 前端网页应用
- **环境要求**: Node.js (推荐 v18+), npm/yarn
- **安装依赖**:
  ```bash
  npm install
  ```
- **启动开发服务器**:
  ```bash
  npm run dev
  ```
- **构建生产版本**:
  ```bash
  npm run build
  ```

### 2. Python爬虫与数据分析
- **环境要求**: Python 3.8+
- **核心依赖库**:
  - `DrissionPage` (爬虫)
  - `pyecharts` (可视化)
  - `pandas` (数据处理)
  - `openpyxl` (Excel读写)
- **安装命令**:
  ```bash
  pip install DrissionPage pyecharts pandas openpyxl
  ```
