<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>星巴克小红书-消费降级反映</title>

  <style>
    html, body { height: 100%; margin: 0; background: transparent; }
    .chart-wrapper{
      width: 100%;
      height: 100%;
      border: 1.5px solid #6f6f6f;
      box-sizing: border-box;
      padding: 4px;           /* 方框贴近内容 */
      background: transparent;
    }
    #chart{ width: 100%; height: 100%; }
  </style>
</head>

<body>
  <div class="chart-wrapper">
    <div id="chart"></div>
  </div>

  <!-- ECharts -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
  <!-- WordCloud 扩展 -->
  <script src="https://cdn.jsdelivr.net/npm/echarts-wordcloud@2/dist/echarts-wordcloud.min.js"></script>

  <script>
    // 100个词：完整数据（不省略）
    const data = [{"name":"价格","value":209},{"name":"消费","value":136},{"name":"一杯","value":130},{"name":"买","value":126},{"name":"真的","value":91},{"name":"性价比","value":90},{"name":"划算","value":90},{"name":"优惠","value":88},{"name":"杯子","value":88},{"name":"门店","value":77},{"name":"品牌","value":72},{"name":"味道","value":70},{"name":"好喝","value":70},{"name":"咖啡","value":69},{"name":"活动","value":69},{"name":"买一送一","value":67},{"name":"打折","value":65},{"name":"会员","value":65},{"name":"省钱","value":64},{"name":"便宜","value":64},{"name":"折扣","value":63},{"name":"券","value":62},{"name":"薅羊毛","value":61},{"name":"星巴克","value":61},{"name":"瑞幸","value":60},{"name":"对比","value":59},{"name":"选择","value":58},{"name":"平替","value":57},{"name":"想买","value":56},{"name":"推荐","value":55},{"name":"预算","value":55},{"name":"贵","value":54},{"name":"便宜点","value":53},{"name":"划不划算","value":52},{"name":"值不值","value":51},{"name":"价格差","value":50},{"name":"同款","value":50},{"name":"囤","value":49},{"name":"优惠券","value":49},{"name":"积分","value":48},{"name":"星礼卡","value":48},{"name":"套餐","value":47},{"name":"买咖啡","value":47},{"name":"买饮品","value":46},{"name":"打工人","value":46},{"name":"日常","value":45},{"name":"通勤","value":44},{"name":"周末","value":44},{"name":"不太值","value":43},{"name":"太贵","value":43},{"name":"便宜很多","value":42},{"name":"降价","value":42},{"name":"涨价","value":41},{"name":"涨","value":41},{"name":"奶茶","value":40},{"name":"饮品","value":40},{"name":"拿铁","value":39},{"name":"美式","value":39},{"name":"冷萃","value":38},{"name":"燕麦奶","value":38},{"name":"加糖","value":37},{"name":"少糖","value":37},{"name":"大杯","value":36},{"name":"中杯","value":36},{"name":"小杯","value":35},{"name":"量","value":35},{"name":"门店价","value":34},{"name":"外卖","value":34},{"name":"自取","value":33},{"name":"下单","value":33},{"name":"平台","value":32},{"name":"团购","value":32},{"name":"秒杀","value":31},{"name":"限时","value":31},{"name":"促销","value":30},{"name":"便宜点买","value":30},{"name":"省","value":29},{"name":"性价比高","value":29},{"name":"学生","value":28},{"name":"价格友好","value":28},{"name":"买得起","value":27},{"name":"控制预算","value":27},{"name":"能省则省","value":26},{"name":"自己做","value":26},{"name":"速溶","value":25},{"name":"咖啡豆","value":25},{"name":"挂耳","value":24},{"name":"在家","value":24},{"name":"办公室","value":23},{"name":"点单","value":22},{"name":"热量","value":22},{"name":"折","value":22},{"name":"便宜好喝","value":21},{"name":"必须","value":20},{"name":"员工","value":20}];

    /* 40% 深绿 / 30% 浅绿 / 20% 棕 / 10% 灰 */
    const darkGreens  = ["#2F6F55", "#3A7F63", "#2C6650"];
    const lightGreens = ["#A8D5BA", "#BFE3C9", "#CFEBD6"];
    const browns      = ["#8B6B4F", "#A07B5A"];
    const greys       = ["#6F6F6F", "#8A8A8A"];

    function pickColor() {
      const r = Math.random();
      if (r < 0.40) return darkGreens[Math.floor(Math.random() * darkGreens.length)];
      if (r < 0.70) return lightGreens[Math.floor(Math.random() * lightGreens.length)];
      if (r < 0.90) return browns[Math.floor(Math.random() * browns.length)];
      return greys[Math.floor(Math.random() * greys.length)];
    }

    const chart = echarts.init(document.getElementById('chart'));

    const option = {
      backgroundColor: 'transparent',
      title: {
        text: '星巴克小红书-消费降级反映',
        subtext: '关键词：消费、买、价格',
        left: 'center',
        top: 8,                 /* 标题贴近图 */
        itemGap: 4,
        textStyle: { fontSize: 15, fontWeight: 'normal', color: '#333' },
        subtextStyle: { fontSize: 12, color: '#666' }
      },
      tooltip: {
        trigger: 'item',
        formatter: p => `${p.name}<br/>词频：${p.value}`
      },
      series: [{
        type: 'wordCloud',
        shape: 'circle',
        sizeRange: [12, 72],        /* 词频越高字号越大 */
        rotationRange: [0, 0],      /* 全部水平放置 */
        rotationStep: 0,
        gridSize: 6,
        drawOutOfBound: false,
        top: 50,                    /* 给主标题+副标题留空间，但尽量贴近 */
        textStyle: {
          fontFamily: 'sans-serif',
          color: () => pickColor()
        },
        emphasis: {
          focus: 'self',
          textStyle: { shadowBlur: 8, shadowColor: 'rgba(0,0,0,0.25)' }
        },
        data
      }]
    };

    chart.setOption(option);
    window.addEventListener('resize', () => chart.resize());
  </script>
</body>
</html>
